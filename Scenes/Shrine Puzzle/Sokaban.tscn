[gd_scene format=3 uid="uid://csvwrhr6ysarq"]

[ext_resource type="Environment" uid="uid://8ivgd0ijm8ix" path="res://Assests/3D/World_Env.tres" id="1_h0xxm"]
[ext_resource type="MeshLibrary" uid="uid://dxo8thlnlijfg" path="res://Assests/Ruins_Libary_Final.meshlib" id="1_xcepn"]
[ext_resource type="PackedScene" uid="uid://c3obafcdtdwal" path="res://Scenes/Door.tscn" id="6_o3keh"]
[ext_resource type="Script" uid="uid://dd8or5oo0cmw2" path="res://Scripts/Values/Bool/Actor.gd" id="7_tea36"]
[ext_resource type="PackedScene" uid="uid://esg4ciusc8a1" path="res://Scenes/TeleporterExit.tscn" id="8_5o5pe"]
[ext_resource type="PackedScene" uid="uid://bu28itoih1xog" path="res://Assests/3D/Objects/Brazier.tscn" id="9_5o5pe"]
[ext_resource type="PackedScene" uid="uid://bv0nkuimkjuah" path="res://Assests/3D/Objects/Collectable.tscn" id="10_s1dvc"]
[ext_resource type="PackedScene" uid="uid://dyww5af6k0qoh" path="res://Assests/3D/Objects/Moveable_Crate_Large.tscn" id="12_1107s"]
[ext_resource type="PackedScene" uid="uid://b6mm1wjjwcmeh" path="res://Scenes/PressurePlate.tscn" id="13_h57li"]
[ext_resource type="PackedScene" uid="uid://dkhpghpfg7uab" path="res://Scenes/CameraGrab.tscn" id="14_s2xhm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_y0fin"]
size = Vector3(53, 16, 38)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ukuf6"]
cull_mode = 2
shading_mode = 0
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_5o5pe"]
material = SubResource("StandardMaterial3D_ukuf6")
flip_faces = true
size = Vector3(150, 150, 150)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xcepn"]
shading_mode = 0
albedo_color = Color(0, 0, 0, 1)

[node name="Sokban" type="Node3D" unique_id=507926901]

[node name="Puzzle Template" type="Node3D" parent="." unique_id=1086264791]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Puzzle Template" unique_id=219973446]
environment = ExtResource("1_h0xxm")

[node name="GridMap" type="GridMap" parent="Puzzle Template" unique_id=805171723]
mesh_library = ExtResource("1_xcepn")
cell_size = Vector3(4, 0.035, 4)
data = {
"cells": PackedInt32Array(65535, 65532, 1, 65535, 65533, 1, 65535, 65534, 1, 65535, 65535, 1, 65535, 0, 1, 0, 65531, 1, 0, 65532, 1, 0, 65533, 1, 0, 65534, 1, 0, 65535, 1, 0, 0, 1, 1, 65532, 1, 1, 65533, 1, 1, 65534, 1, 1, 65535, 1, 1, 0, 1, 65534, 65526, 1, 65534, 65527, 1, 65534, 65528, 1, 65535, 65528, 1, 65535, 65529, 1, 65535, 65530, 1, 65535, 1, 1, 65535, 2, 1, 0, 65530, 1, 0, 1, 1, 0, 2, 1, 1, 65530, 1, 1, 1, 1, 1, 2, 1, 2, 65526, 1, 2, 65527, 1, 2, 65528, 1, 2, 65529, 1, 2, 65530, 1, 2, 65532, 1, 2, 65533, 1, 2, 65534, 1, 3, 65531, 1, 3, 65532, 1, 3, 65533, 1, 3, 65534, 1, 4, 65531, 1, 4, 65532, 1, 4, 65533, 1, 4, 65534, 1, 5, 65531, 1, 5, 65532, 1, 5, 65533, 1, 5, 65534, 1, 6, 65531, 1, 6, 65532, 1, 6, 65533, 1, 6, 65534, 1, 65531, 65530, 1, 65531, 65531, 1, 65531, 65532, 1, 65531, 65533, 1, 65531, 65534, 1, 65531, 65535, 1, 65531, 0, 1, 65531, 1, 1, 65532, 65532, 1, 65532, 65533, 1, 65532, 65534, 1, 65532, 65535, 1, 65532, 0, 1, 65532, 1, 1, 65533, 65532, 1, 65533, 65533, 1, 65533, 65534, 1, 65533, 65535, 1, 65533, 0, 1, 65533, 1, 1, 65533, 2, 1, 65534, 65530, 1, 65534, 65531, 1, 65534, 65532, 1, 65534, 65533, 1, 65534, 65534, 1, 65534, 65535, 1, 65534, 0, 1, 65534, 1, 1, 65534, 2, 1, 65522, 65534, 1, 65522, 65535, 1, 65523, 65533, 1, 65523, 65534, 1, 65523, 65535, 1, 65523, 0, 1, 65524, 65532, 1, 65524, 65533, 1, 65524, 65534, 1, 65524, 65535, 1, 65524, 0, 1, 65524, 1, 1, 65525, 65532, 1, 65525, 65533, 1, 65525, 65534, 1, 65525, 65535, 1, 65525, 0, 1, 65525, 1, 1, 65526, 65531, 1, 65526, 65532, 1, 65526, 65533, 1, 65526, 65534, 1, 65526, 65535, 1, 65526, 0, 1, 65526, 1, 1, 65527, 65531, 1, 65527, 65533, 1, 65527, 65534, 1, 65527, 65535, 1, 65527, 0, 1, 65527, 1, 1, 65528, 65531, 1, 65528, 65533, 1, 65528, 65534, 1, 65528, 65535, 1, 65528, 0, 1, 65529, 65530, 1, 65529, 65531, 1, 65529, 65533, 1, 65529, 65534, 1, 65529, 65535, 1, 65529, 0, 1, 65530, 65530, 1, 65530, 65531, 1, 65530, 65532, 1, 65530, 65533, 1, 65530, 65534, 1, 65530, 65535, 1, 65530, 0, 1, 0, 65529, 1, 1, 65529, 1, 1, 65528, 1, 0, 65528, 1, 65535, 65527, 1, 65535, 65526, 1, 65535, 65525, 1, 0, 65525, 1, 1, 65525, 1, 2, 65525, 1, 1, 65526, 1, 0, 65526, 1, 0, 65527, 1, 1, 65527, 1, 65535, 65531, 1, 1, 65531, 1, 2, 65531, 1, 65529, 65532, 1, 65528, 65532, 1, 65527, 65532, 1)
}

[node name="1st level decor" type="GridMap" parent="Puzzle Template" unique_id=553498337]
mesh_library = ExtResource("1_xcepn")
cell_size = Vector3(4, 0.035, 4)
data = {
"cells": PackedInt32Array(65534, 65534, 8, 65533, 65534, 8, 65532, 65534, 8, 65532, 65532, 8, 65533, 65532, 8, 65534, 65532, 8, 65534, 65531, 8, 65534, 65530, 8, 65535, 65530, 8, 65535, 65529, 8, 0, 65534, 8, 1, 65534, 8, 2, 65534, 8, 3, 65534, 8, 4, 65534, 8, 5, 65534, 8, 6, 65534, 8, 2, 65529, 8, 2, 65530, 8, 65533, 65535, 8, 65532, 65535, 8, 65531, 65535, 8, 65531, 0, 8, 65531, 1, 8, 65532, 1, 8, 65533, 1, 8, 65533, 2, 8, 65534, 2, 8, 65535, 2, 8, 0, 2, 8, 1, 65535, 8, 1, 0, 8, 1, 1, 8, 1, 2, 8, 65531, 65532, 8, 65531, 65531, 8, 65531, 65530, 8, 65530, 65530, 8, 65529, 65530, 8, 65526, 65531, 8, 65524, 65532, 8, 65524, 65533, 8, 65523, 65533, 8, 65523, 65534, 8, 65522, 65534, 8, 65522, 65535, 8, 65523, 65535, 8, 65523, 0, 8, 65524, 1, 8, 65525, 1, 8, 65526, 1, 8, 65527, 1, 8, 65527, 0, 8, 65528, 0, 8, 65529, 0, 8, 65530, 0, 8, 65530, 65535, 8, 65531, 65534, 8, 65534, 65526, 1048584, 65534, 65527, 1048584, 65534, 65528, 1048584, 3, 65528, 8, 3, 65527, 8, 3, 65526, 8, 3, 65525, 8, 65534, 65525, 8, 65535, 65524, 8, 0, 65524, 8, 1, 65524, 8, 2, 65524, 8, 3, 65530, 8, 3, 65531, 8, 65525, 65532, 8, 65526, 65532, 8, 65528, 65530, 1441800, 65527, 65530, 1441800, 65526, 65530, 1441800, 4, 65530, 655368, 6, 65530, 655368, 5, 65530, 8, 6, 65531, 8, 6, 65532, 8, 6, 65533, 8)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="2nd level decor" type="GridMap" parent="Puzzle Template" unique_id=1077468656]
mesh_library = ExtResource("1_xcepn")
cell_size = Vector3(4, 1, 4)
data = {
"cells": PackedInt32Array(655358, 65524, 1, 655359, 65524, 1, 589824, 65524, 1, 589825, 65524, 1, 589826, 65524, 1, 589827, 65524, 1, 589827, 65525, 1, 589827, 65526, 1, 589827, 65527, 1, 589827, 65528, 1, 589826, 65528, 1, 589825, 65528, 1, 589824, 65528, 1, 655359, 65528, 1, 655358, 65528, 1, 655358, 65527, 1, 655358, 65526, 1, 655358, 65525, 1, 655359, 65525, 1, 589824, 65525, 1, 589825, 65525, 1, 589826, 65525, 1, 589826, 65526, 1, 589825, 65526, 1, 589824, 65526, 1, 655359, 65526, 1, 655359, 65527, 1, 589824, 65527, 1, 589825, 65527, 1, 589826, 65527, 1, 589826, 65529, 1, 589826, 65530, 1441794, 655359, 65530, 1441794, 655359, 65529, 1, 589825, 65529, 1, 589824, 65529, 1, 655354, 65535, 1441793, 655354, 0, 1441793, 655353, 0, 1441793, 655352, 0, 1441793, 655351, 0, 1441793, 655349, 0, 1441793, 655350, 0, 1441793, 655348, 65535, 1441793, 655348, 65534, 1441793, 655355, 65533, 1441793, 655355, 65534, 1441793, 655355, 65535, 1441793, 655355, 0, 1441793, 655354, 65534, 1441793, 655354, 65533, 1441793, 655354, 65532, 1441793, 655354, 65531, 1441793, 655353, 65531, 1441793, 655352, 65531, 1441793, 655351, 65531, 1441793, 655351, 65532, 1441793, 655352, 65532, 1441793, 655353, 65532, 1441793, 655353, 65533, 1441793, 655353, 65534, 1441793, 655353, 65535, 1441793, 655352, 65535, 1441793, 655351, 65535, 1441793, 655350, 65535, 1441793, 655349, 65535, 1441793, 655349, 65534, 1441793, 655349, 65533, 1441793, 655350, 65533, 1441793, 655350, 65534, 1441793, 655351, 65534, 1441793, 655351, 65533, 1441793, 655352, 65533, 1441793, 655352, 65534, 1441793, 655348, 0, 1441793, 655351, 1, 1441793, 655350, 1, 1441793, 655349, 1, 1441793, 655348, 1, 1441793, 655347, 0, 1441793, 655347, 65535, 1441793, 655346, 65535, 1441793, 655346, 65534, 1441793, 655347, 65534, 1441793, 655347, 65533, 1441793, 655348, 65533, 1441793, 655348, 65532, 1441793, 655349, 65532, 1441793, 655350, 65532, 1441793, 655350, 65531, 1441793, 655350, 65530, 1441793, 655351, 65530, 1441793, 655352, 65530, 1441793, 655353, 65530, 1441793, 655354, 65530, 1441793, 655355, 65530, 1441793, 655355, 65531, 1441793, 655355, 65532, 1441793, 655356, 65533, 1441793, 655356, 65532, 2, 655356, 65534, 2, 655358, 65534, 1048578, 589824, 65534, 1048578)
}
metadata/_editor_floor_ = Vector3(0, 9, 0)

[node name="Crate" parent="Puzzle Template" unique_id=946948200 instance=ExtResource("12_1107s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.697588, 2.9762754, -14.003296)

[node name="CollisionShape3D" parent="Puzzle Template/Crate" index="0" unique_id=64569313]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.100811005, 1.3017712, 0.11697388)

[node name="Crate2" parent="Puzzle Template" unique_id=1562514619 instance=ExtResource("12_1107s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.697588, 2.9762754, -10.387571)

[node name="CollisionShape3D" parent="Puzzle Template/Crate2" index="0" unique_id=64569313]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.100811005, 1.3017712, 0.11697388)

[node name="Crate3" parent="Puzzle Template" unique_id=263122979 instance=ExtResource("12_1107s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.220333, 2.9762754, -13.21813)

[node name="CollisionShape3D" parent="Puzzle Template/Crate3" index="0" unique_id=64569313]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.100811005, 1.3017712, 0.11697388)

[node name="PressurePlate" parent="Puzzle Template" unique_id=157249335 instance=ExtResource("13_h57li")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -14.1364765, 1.6006846, 2.0338438)

[node name="PressurePlate2" parent="Puzzle Template" unique_id=751912357 instance=ExtResource("13_h57li")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -5.950878, 1.6006846, 6.1517506)

[node name="PressurePlate3" parent="Puzzle Template" unique_id=1831998864 instance=ExtResource("13_h57li")]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 2.0589561, 1.6006846, 6.1517506)

[node name="CameraGrab" parent="." unique_id=2053990340 instance=ExtResource("14_s2xhm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 18.13727, 0)

[node name="GrabTo" parent="CameraGrab" index="0" unique_id=1105713157]
transform = Transform3D(1, 0, 0, 0, 0.0017278941, 0.9999985, 0, -0.9999985, 0.0017278941, 2.8345351, 15.718561, -4.970911)

[node name="MeshInstance3D" parent="CameraGrab/GrabTo" index="0" unique_id=1294043823]
transform = Transform3D(1, 0, 0, 0, -0.42219117, -0.9065067, 0, 0.9065067, -0.42219117, 0, -4.001679, -0.9686699)

[node name="CollisionShape3D" parent="CameraGrab" index="1" unique_id=2042857866]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.638966, -14.92421, -3.0975094)
shape = SubResource("BoxShape3D_y0fin")

[node name="Door" parent="." unique_id=697453936 instance=ExtResource("6_o3keh")]
transform = Transform3D(1.205, 0, 0, 0, 1.205, 0, 0, 0, 1.205, 3.8688388, 6.11516, -22.435562)

[node name="ActorBool" type="Node" parent="Door" unique_id=1976995411 node_paths=PackedStringArray("actor")]
script = ExtResource("7_tea36")
actor = NodePath("../../Puzzle Template/PressurePlate")
metadata/_custom_type_script = "uid://dd8or5oo0cmw2"

[node name="ActorBool2" type="Node" parent="Door" unique_id=1727263750 node_paths=PackedStringArray("actor")]
script = ExtResource("7_tea36")
actor = NodePath("../../Puzzle Template/PressurePlate2")
metadata/_custom_type_script = "uid://dd8or5oo0cmw2"

[node name="ActorBool3" type="Node" parent="Door" unique_id=553674612 node_paths=PackedStringArray("actor")]
script = ExtResource("7_tea36")
actor = NodePath("../../Puzzle Template/PressurePlate3")
metadata/_custom_type_script = "uid://dd8or5oo0cmw2"

[node name="TeleporterExit" parent="." unique_id=234579865 instance=ExtResource("8_5o5pe")]
transform = Transform3D(0.70710677, 0, -0.70710677, 0, 1, 0, 0.70710677, 0, 0.70710677, 4.472275, 1.657978, -39.05591)

[node name="Marker3D" type="Marker3D" parent="." unique_id=1392608715]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -44.568546, 3.6235409, -3.9098964)

[node name="Brazier" parent="." unique_id=841687113 instance=ExtResource("9_5o5pe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.0133343, 1.5302496, -41.35263)

[node name="Brazier2" parent="." unique_id=2074791094 instance=ExtResource("9_5o5pe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.986666, 1.5302496, -30.35263)

[node name="Brazier3" parent="." unique_id=77832928 instance=ExtResource("9_5o5pe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22.013334, 1.5302496, -17.35263)

[node name="Brazier4" parent="." unique_id=2124710775 instance=ExtResource("9_5o5pe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22.013334, 1.5302496, -6.3526306)

[node name="Brazier5" parent="." unique_id=81680458 instance=ExtResource("9_5o5pe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.0133343, 1.5302496, -17.900156)

[node name="OmniLight3D" parent="Brazier5" index="1" unique_id=1236392117]
shadow_enabled = true
omni_range = 15.0

[node name="Brazier7" parent="." unique_id=1552191371 instance=ExtResource("9_5o5pe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.0133343, 1.5302496, -1.900156)

[node name="OmniLight3D" parent="Brazier7" index="1" unique_id=1236392117]
shadow_enabled = true
omni_range = 15.0

[node name="Brazier6" parent="." unique_id=1171844696 instance=ExtResource("9_5o5pe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.201851, 1.5302496, -13.322962)

[node name="OmniLight3D" parent="Brazier6" index="1" unique_id=1236392117]
shadow_enabled = true
omni_range = 15.0

[node name="Collectable" parent="." unique_id=2046027389 instance=ExtResource("10_s1dvc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.2228274, 2.8421617, -32.748375)

[node name="MeshInstance3D" type="MeshInstance3D" parent="." unique_id=1235031845]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 0.28800002, 0, -1, -1.258888e-08, -5.816166, 17.167427, -9)
mesh = SubResource("BoxMesh_5o5pe")
surface_material_override/0 = SubResource("StandardMaterial3D_xcepn")

[editable path="Puzzle Template/Crate"]
[editable path="Puzzle Template/Crate2"]
[editable path="Puzzle Template/Crate3"]
[editable path="CameraGrab"]
[editable path="Brazier5"]
[editable path="Brazier7"]
[editable path="Brazier6"]
